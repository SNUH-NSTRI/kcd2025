# ============================================================================
# RWE Clinical Trial Emulation Platform - Backend Dependencies
# ============================================================================
# Generated: 2025-10-18
# Python: 3.9+
#
# This file contains ALL dependencies required for the backend service.
# Install with: pip install -r requirements.txt
# ============================================================================

# ----------------------------------------------------------------------------
# Core Web Framework
# ----------------------------------------------------------------------------
fastapi==0.115.0
uvicorn[standard]==0.32.0
pydantic==2.9.2
pydantic-settings==2.11.0
python-multipart==0.0.12

# ----------------------------------------------------------------------------
# Data Processing & Analysis
# ----------------------------------------------------------------------------
pandas>=2.0.0
pyarrow>=14.0.0
numpy>=1.24.0

# ----------------------------------------------------------------------------
# Statistical Analysis & Causal Inference
# ----------------------------------------------------------------------------
lifelines>=0.29.0        # Cox Proportional Hazards, Kaplan-Meier, survival analysis
econml>=0.15.0          # Causal ML, Causal Forest, HTE analysis
shap>=0.45.0            # Shapley values for feature importance
scikit-learn>=1.3.0     # Propensity score models, general ML
statsmodels>=0.14.0     # Additional statistical tests
scipy>=1.11.0           # Scientific computing, statistical tests

# ----------------------------------------------------------------------------
# Visualization
# ----------------------------------------------------------------------------
matplotlib>=3.7.0        # Plotting for KM curves and baseline tables
seaborn>=0.12.0         # Statistical visualizations

# ----------------------------------------------------------------------------
# LangChain & LangGraph (AI Agents)
# ----------------------------------------------------------------------------
langchain>=0.1.0
langchain-core>=0.1.0
langchain-openai>=0.0.5      # For OpenRouter integration
langchain-text-splitters>=0.3.0
langgraph>=0.0.20

# ----------------------------------------------------------------------------
# LLM API Clients
# ----------------------------------------------------------------------------
openai>=2.0.0           # OpenAI/OpenRouter API client
httpx>=0.28.0           # Modern HTTP client for async operations
tiktoken>=0.12.0        # OpenAI tokenizer

# ----------------------------------------------------------------------------
# API Clients & HTTP
# ----------------------------------------------------------------------------
requests>=2.31.0        # HTTP client for UMLS, OHDSI, ClinicalTrials.gov
urllib3>=2.0.0          # HTTP library

# ----------------------------------------------------------------------------
# Caching & Concurrency
# ----------------------------------------------------------------------------
redis>=5.0.0            # Redis cache (optional)
filelock>=3.12.0        # File-based locking for cache management

# ----------------------------------------------------------------------------
# Utilities & Retries
# ----------------------------------------------------------------------------
tenacity>=8.2.0         # Retry logic for API calls
python-dotenv==1.0.1    # Environment variable management
pyyaml>=6.0.1           # YAML parsing for prompts/configs

# ----------------------------------------------------------------------------
# Testing
# ----------------------------------------------------------------------------
pytest>=7.4.0
pytest-cov>=4.1.0
pytest-mock>=3.12.0
pytest-asyncio>=0.21.0   # Async test support

# ----------------------------------------------------------------------------
# Development Tools (Optional)
# ----------------------------------------------------------------------------
# ruff>=0.1.0            # Fast Python linter/formatter
# pyright>=1.1.0         # Static type checker
# ipython>=8.12.0        # Enhanced Python shell
# jupyter>=1.0.0         # Notebook support
